# 1장 리팩토링이란?

------

리팩토링은 코드를 변경하는 것이 아니다.

정확하게는 코드를 변경하는 것은 방법중 하나지만, '코드 동작'을 바꿔선 안 된다.



------

### 1.1 코드 동작이 변하지 않는다는 것을 어떻게 보장할 수 있을까?

- 구현 세부 사항
- 불특정하고 검증되지 않은 동작
- 성능

테스트와 버전 관리를 사용, 즉 코드 변경과 안정성을 보장하는 자동화 도구를 사용

##### 리팩토링한 코드가 제대로 실행되지 않은 때 변경 전 코드로 되돌릴 수 있도록 반드시 버전 관리를 사용하여 단계적으로 리팩토링을 진행한다.



### 1.2 구현 세부 사항에 관심을 두면 어떨까?

------

**구현 세부 사항**이란, **코드가 소비되는 코드에 의해 생성되는 동작**을 말한다.

```
function byTwo (number) {
	return number * 2;
}

function byTwo (number) {
    return number << 1;
}
```

위에 두 함수 모두 동작을 할 것이다. 둘다 같은 결과를 반환할 것이고, 함수 내부 동작보단 해당 결과 값에 더욱 관심을 갖을 것이다.

하지만, 두 번째 함수는 값이 너무 커지면 쉬프트 연산자로 부터 문제가 생길 것이다. 그리고 우리는 구현 세부 사항에 신경을 쓰는 것이 아닌 당연히 결과값이 잘 못된 것이라고 생각할겁니다.

이 사례로 **테스트 케이스가 처음 생각한 것보다 더 많은 경우를 포함해야 한다는 것**을 알 수 있다.



### 1.3 불특정하고 검증되지 않은 동작에 관심을 두면 어떨까?

------



### 